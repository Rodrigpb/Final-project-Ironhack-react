(this["webpackJsonpyou-work"]=this["webpackJsonpyou-work"]||[]).push([[0],{221:function(e,t,a){},253:function(e,t,a){},284:function(e,t,a){},355:function(e,t,a){},388:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},464:function(e,t,a){},486:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){},634:function(e,t,a){},656:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),s=a(18),i=a.n(s),l=(a(355),a(50)),o=a(17),d=a.n(o),j=a(33),u=a(7),b=a(698),m=a(335),h=a(691),p=a(74),O=a(728),x=a(294),f=a.n(x),v=a(295),g=(a(253),a(3));a(221);function y(e){return Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("button",Object(g.a)(Object(g.a)({},e),{},{children:e.name}))})}y.defaultProps={className:"button"};var N=Object(n.createContext)(),w=function(){return Object(n.useContext)(N)},C=function(e){var t=e.children,a=Object(n.useState)(JSON.parse(localStorage.getItem("user"))),r=Object(u.a)(a,2),s=r[0],i=r[1],l={user:s,login:Object(n.useCallback)((function(e){localStorage.setItem("user",JSON.stringify(e)),i(e)}),[]),logout:Object(n.useCallback)((function(){localStorage.setItem("user",null),i(null)}),[])};return Object(c.jsx)(N.Provider,{value:l,children:t})},k=Object(v.autoPlay)(f.a),S=[{imgPath:"/images/carousel-1.jpg"},{imgPath:"/images/carousel-2.jpg"},{imgPath:"/images/carousel-3.jpg"}],D=Object(h.a)((function(e){return{root:{width:"100vw",height:"100vh"},img:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",width:"100vw",height:"100vh"},buttonStep:{alignItems:"center",zIndex:"1000",display:"flex",justifyContent:"center"}}}));var I=function(){var e=D(),t=Object(p.a)(),a=r.a.useState(0),n=Object(u.a)(a,2),s=n[0],i=n[1],o=S.length,d=Object(l.g)(),j=w().user;return Object(c.jsxs)("div",{className:"".concat(e.root," SpaceDetail"),children:[Object(c.jsxs)("div",{className:"bg-wrapper",children:[Object(c.jsx)(k,{axis:"rtl"===t.direction?"x-reverse":"x",index:s,onChangeIndex:function(e){i(e)},enableMouseEvents:!0,children:S.map((function(t,a){return Object(c.jsx)("div",{children:Math.abs(s-a)<=2?Object(c.jsx)("img",{className:e.img,src:t.imgPath,alt:t.label}):null},t.label)}))}),Object(c.jsx)("div",{className:"bg-color"})]}),Object(c.jsx)(O.a,{className:e.buttonStep,steps:o,position:"static",variant:"dots",activeStep:s}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"text-wrap",children:[Object(c.jsx)("h2",{style:{lineHeight:"1.5em"},children:"Ad\xe1ptate con el lugar de trabajo del ma\xf1ana"}),Object(c.jsx)(y,{name:j?"Ver perfil":"Registrate",onClick:function(){if(j)return d.push("/profile/".concat(j.id));d.push("/register")}})]})})]})};a(388);function E(){return Object(c.jsx)("div",{className:"video-background",children:Object(c.jsx)("div",{className:"video-foreground",children:Object(c.jsx)("iframe",{src:"https://www.youtube.com/embed/hywVgqbSQ-8?controls=0&showinfo=0&rel=0&autoplay=1&loop=1&mute=1&autohide=0",frameborder:"0",allowfullscreen:!0})})})}var P=a(296),T=a.n(P).a.create({baseURL:"http://you-work.herokuapp.com",withCredentials:!0});T.interceptors.response.use((function(e){return e.data}),(function(e){var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.clear(),window.location.assign("/login")),Promise.reject(e)}));var z=function(e){var t=e.email,a=e.password;return T.post("/login",{email:t,password:a})},F=function(e){return T.post("/users",{user:e})},R=function(e,t){return T.patch("/user/".concat(e),{user:t})},L=function(e){return T.delete("/space/".concat(e,"/comments"))},U=function(e,t){return T.post("/space/".concat(e,"/review"),{review:t})},A=function(e,t){return T.post("/stripe/charge",{amount:e,id:t})},M=function(e){return T.delete("/space/".concat(e))},B=function(e){var t=new FormData;t.append("title",e.title);for(var a=0;a<e.files.length;a++)t.append("image[]",e.files[a]);return e.service.map((function(e){return t.append("services",e)})),e.schedule.map((function(e){return t.append("day",e)})),t.append("description",e.description),t.append("direction",e.direction),t.append("extraDirection",e.extraDirection),t.append("city",e.city),t.append("coordinates",e.coordinates.lat),t.append("coordinates",e.coordinates.lng),t.append("type",e.type),t.append("quantity",e.quantity),t.append("price",e.price),t.append("available",e.scheduletype),t.append("checkIn",e.timeEntry),t.append("checkOut",e.timeExit),T.post("/space/new",t,{headers:{"Content-Type":"multipart/form-data"}})},W=function(e,t){return T.post("/addMessage/".concat(e),{message:t})},q=function(e){return T.get("/chatBetweenTwo/".concat(e))},Y=function(e,t){return T.post("/booking/".concat(e),{booking:t})},V=a(56),H=(a(405),function(e){var t=e.space,a=e.n;return Object(c.jsx)("div",{className:"col-lg-".concat(a," card-space"),children:Object(c.jsxs)(V.b,{className:"not-link",to:"/space/".concat(t.id),children:[Object(c.jsx)("img",{className:"img-card-space",src:t.image[0],alt:t.title,width:"100%"}),Object(c.jsx)("h5",{className:"mt-2 mb-2",children:t.title}),Object(c.jsxs)("div",{className:"card-price-container",children:[Object(c.jsxs)("div",{className:"price-name",children:[("office"===t.type[0]?"Oficina completa":"")||"desk"===t.type[0]&&"Escritorios individuales"||"meetingRoom"===t.type[0]&&"Sala de reuniones"," "]}),Object(c.jsxs)("div",{className:"price",children:[t.price," \u20ac / d\xeda "]}),Object(c.jsx)("div",{className:"type-day",children:"Todo el d\xeda"===t.schedule.available?t.schedule.available:"Turno de ".concat(t.schedule.available)})]})]})})}),G=a(711),J=a(712),Q=(a(406),a(696)),_=a(695),K=a(697),Z=a(662);function $(){return Object(c.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"You Work"})," ",(new Date).getFullYear(),"."]})}var X=Object(h.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},title:{color:"#b1b1b1",display:"flex",flexDirection:"column",alignItems:"center",fontWeight:"600"},list:{display:"flex",flexDirection:"column",alignItems:"center"},link:{color:"#000",fontWeight:"400",padding:"0.1"}}}));function ee(){var e=X();return Object(c.jsx)(r.a.Fragment,{children:Object(c.jsxs)("footer",{className:e.footer,children:[Object(c.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(c.jsxs)(Q.a,{item:!0,xs:12,sm:4,className:e.list,children:[Object(c.jsx)(Z.a,{className:e.title,children:"ESPACIOS"}),Object(c.jsxs)(K.a,{component:"nav",children:[Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Epacios de coworking"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Centro de negocio"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Despachos flexibles"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Despachos privados"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Hot desk"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Oficinas compartidas"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Sala de reuniones"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Sala para eventos"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Consultoria coworking"})})]})]}),Object(c.jsxs)(Q.a,{item:!0,xs:12,sm:4,className:e.list,children:[Object(c.jsx)(Z.a,{className:e.title,children:"COWORKING SPAIN"}),Object(c.jsxs)(K.a,{component:"nav",children:[Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Contacto"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Preguntas frecuentes"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Legal"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Magazine"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Prensa y Logos"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Nosotros"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Documentos"})})]})]}),Object(c.jsxs)(Q.a,{item:!0,xs:12,sm:4,className:e.list,children:[Object(c.jsx)(Z.a,{className:e.title,children:"CIUDADES TOP"}),Object(c.jsxs)(K.a,{component:"nav",children:[Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Madrid"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Valencia"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"M\xe1lada"})}),Object(c.jsx)(Z.a,{className:e.link,children:Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Toledo"})})]})]})]}),Object(c.jsx)($,{})]})})}var te=Object(h.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}}));function ae(){var e=te(),t=Object(n.useState)(null),a=Object(u.a)(t,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/spaces");case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(b.a,{}),Object(c.jsx)(I,{}),Object(c.jsxs)("main",{children:[Object(c.jsx)("div",{className:e.heroContent,children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(m.a,{component:"h6",variant:"h4",align:"center",color:"textPrimary",gutterBottom:!0,children:"C\xf3mo puede ayudar YouWork a tu empresa a avanzar"}),Object(c.jsx)("div",{className:"site-card-wrapper mt-5",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-4 d-flex justify-content-center",children:Object(c.jsxs)(G.a,{hoverable:!0,style:{width:360},cover:Object(c.jsx)("img",{alt:"covid",src:"/images/home-1.jpg"}),children:[Object(c.jsx)("h6",{children:"Da prioridad a la salud y a la seguridad"}),Object(c.jsx)("p",{children:"Hemos modificado nuestros espacios para garantizar el distanciamiento, mejorado los procesos de desinfecci\xf3n y actualizado nuestros sistemas de climatizaci\xf3n para darte m\xe1s tranquilidad en la oficina."})]})}),Object(c.jsx)("div",{className:"col-md-4 d-flex justify-content-center",children:Object(c.jsxs)(G.a,{hoverable:!0,style:{width:360},cover:Object(c.jsx)("img",{alt:"covid",src:"/images/home-2.jpg"}),children:[Object(c.jsx)("h6",{children:"Da prioridad a la salud y a la seguridad"}),Object(c.jsx)("p",{children:"Hemos modificado nuestros espacios para garantizar el distanciamiento, mejorado los procesos de desinfecci\xf3n y actualizado nuestros sistemas de climatizaci\xf3n para darte m\xe1s tranquilidad en la oficina."})]})}),Object(c.jsx)("div",{className:"col-md-4 d-flex justify-content-center",children:Object(c.jsxs)(G.a,{hoverable:!0,style:{width:360},cover:Object(c.jsx)("img",{alt:"covid",src:"/images/home-3.jpg"}),children:[Object(c.jsx)("h6",{children:"Da prioridad a la salud y a la seguridad"}),Object(c.jsx)("p",{children:"Hemos modificado nuestros espacios para garantizar el distanciamiento, mejorado los procesos de desinfecci\xf3n y actualizado nuestros sistemas de climatizaci\xf3n para darte m\xe1s tranquilidad en la oficina."})]})})]})})]})}),Object(c.jsx)("div",{className:"container",name:"start-spaces",id:"start-spaces",children:null!==s&&Object(c.jsxs)("div",{className:"row cards-spaces mb-5",children:[Object(c.jsx)("h3",{className:"mt-5 mb-5",children:" Encuentra tu espacio perfecto"}),Object(c.jsx)(J.b,{grid:{column:3,xs:1,sm:1,md:2},itemLayout:"vertical",size:"large",pagination:{onChange:function(e){var t=document.createElement("a");t.href="#start-spaces",t.click()},pageSize:15},dataSource:s,footer:Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"You work!"})}),renderItem:function(e,t){return Object(c.jsx)(J.b.Item,{children:Object(c.jsx)(H,{space:e,n:12},t)})}})]})})]}),Object(c.jsx)(E,{}),Object(c.jsx)(ee,{})]})}var ce=a(736),ne=a(737),re=a(738),se=a(702),ie=a(717),le=a(15),oe=a(720),de=a(203);function je(e){var t=e.userProfile,a=w().user,r=t.chat,s=Object(n.useState)(!1),i=Object(u.a)(s,2),l=i[0],o=i[1],b=Object(n.useState)(null),m=Object(u.a)(b,2),h=m[0],p=m[1],O=Object(n.useState)(null),x=Object(u.a)(O,2),f=x[0],v=x[1],g=Object(n.useState)(!1),y=Object(u.a)(g,2),N=y[0],C=y[1],k=Object(n.useState)(null),S=Object(u.a)(k,2),D=S[0],I=S[1],E=Object(n.useState)(null),P=Object(u.a)(E,2),T=(P[0],P[1]),z=Object(n.useRef)();console.log(t),Object(n.useEffect)((function(){window.clearTimeout(z.current);var e=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(h);case 3:t=e.sent,c=t[0].message[0].messages.map((function(e){return{author:e.user===a.id?"me":"them",type:"text",data:{text:e.message}}})),I(t),v(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),T("No se ha podido cargar los mensajes.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();z.current=setInterval((function(){e()}),1500)}),[l]);return Object(c.jsxs)("div",{children:[Object(c.jsx)(J.b,{itemLayout:"horizontal",dataSource:r,renderItem:function(e){return Object(c.jsx)(J.b.Item,{onClick:function(){return t=e.owner.id!==a.id?e.owner.id:e.user.id,p(t),o(!l),void C(!0);var t},children:Object(c.jsx)(J.b.Item.Meta,{avatar:Object(c.jsx)(oe.a,{src:e.owner.id!==a.id?e.owner.avatar:e.user.avatar}),title:e.owner.id!==a.id?e.owner.name:e.user.name,description:e.owner.id!==a.id?e.owner.email:e.user.email})})}}),",",Object(c.jsx)(de.a,{handleClick:function(){C(!N)},style:{zIndex:"100"},isOpen:N,agentProfile:{teamName:t.name,imageUrl:t.avatar},onMessageWasSent:function(e){e.data.text.length>0&&(function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(D[0].id,e.data.text);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),T("No se ha podido enviar el mensaje.");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}()(),console.log(e.data.text),v([].concat(Object(le.a)(f),[{author:"me",type:"text",data:{text:e.data.text}}])),o(!l))},messageList:null===f?"":f,showEmoji:!0})]})}var ue=a(9),be=a(729),me=a(715),he=(a(464),function(e){var t=e.userProfile,a=w().user,r=Object(n.useState)({name:t.name,number:t.number,nif:t.nif,razonSocial:t.razonSocial,direccion:t.direccion,image:t.avatar}),s=Object(u.a)(r,2),i=s[0],l=s[1],o=Object(n.useState)(!1),b=Object(u.a)(o,2),m=b[0],h=b[1],p=[{name:"Nombre",data:i.name,value:"name"},{name:"Email",data:t.email,value:"email"},{name:"N\xfamero",data:i.number,value:"number"},{name:"Nif",data:i.nif,value:"nif"},{name:"Raz\xf3n social",data:i.razonSocial,value:"razonSocial"},{name:"Direcci\xf3n",data:i.direccion,value:"direccion"}],O=function(e){var t=e.target,a=t.name,c=t.value,n=t.files;l(Object(g.a)(Object(g.a)({},i),{},Object(ue.a)({},a,n?n[0]:c)))};return Object(c.jsxs)("div",{className:"personal-date",children:[Object(c.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(c.jsxs)("div",{className:"col-md-4 ",children:[Object(c.jsx)("label",{htmlFor:"file-input",children:Object(c.jsx)("img",{name:"image",className:m?"pointer-img img-profile":"img-profile",src:i.image!==a.avatar?URL.createObjectURL(i.image):t.avatar,alt:t.name,style:{width:"100%"}})}),t.id===a.id&&m&&Object(c.jsx)("input",{onChange:O,type:"file",name:"image",id:"file-input",className:"file-input",placeholder:"d"})]}),Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsx)(J.b,{header:Object(c.jsx)("div",{className:"font-italic font-weight-bold",children:"Datos personales"}),bordered:!0,dataSource:p,renderItem:function(e){return Object(c.jsxs)(J.b.Item,{children:[Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(me.a.Text,{strong:!0,children:e.name})}),Object(c.jsx)("div",{className:"col-md-8",children:m&&"email"!==e.value?Object(c.jsx)(be.a,{id:e.name,type:"number"===e.value?"number":"text",value:i[e.value],name:e.value,onChange:O}):e.data})]})}})})]}),Object(c.jsxs)("div",{className:"d-flex justify-content-center",children:[t.id===a.id&&Object(c.jsx)(y,{name:m?"Aceptar":"Modificar Datos",onClick:m?function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t.id,i);case 3:h(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}})()()}:function(){h(!0)}}),t.id===a.id&&m&&Object(c.jsx)(y,{style:{marginLeft:"10px"},name:"Cancelar",onClick:function(){h(!1)}})]})]})}),pe=a(733),Oe=a(734),xe=a(735),fe=a(732),ve=a(726);function ge(e){var t=e.setUserProfile,a=e.userProfile,s=a.space,i=Object(n.useState)(""),l=Object(u.a)(i,2),o=l[0],b=l[1],m=Object(n.useState)(null),h=Object(u.a)(m,2),p=h[0],O=h[1],x=w().user;Object(n.useEffect)((function(){b(s)}),[]);var f=function(e){var t=e.icon,a=e.text,n=e.onClick,s=e.style;return Object(c.jsxs)(fe.b,{onClick:n,style:s,children:[r.a.createElement(t),a]})};return Object(c.jsxs)("div",{children:[null!==p&&Object(c.jsxs)("div",{className:"mb-3",children:[" ",Object(c.jsx)(ve.a,{message:p,type:"error",showIcon:!0,closable:!0})," "]}),Object(c.jsx)(J.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:4},dataSource:o,footer:Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"You work!"})}),renderItem:function(e,n){return Object(c.jsxs)(J.b.Item,{actions:[Object(c.jsx)(f,{icon:pe.a,text:e.comments.length},"list-vertical-star-o"),Object(c.jsx)(f,{icon:Oe.a,text:e.reviews.length},"list-vertical-message"),Object(c.jsx)(f,{style:x.id===a.id?{cursor:"pointer"}:{display:"none"},onClick:function(){return c=e.id,void function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(c),e.next=4,M(c);case 4:b(Object(le.a)(o.filter((function(e){return e.id!==c})))),t(Object(g.a)(Object(g.a)({},a),{},{space:Object(le.a)(a.spaces.filter((function(e){return e.id!==c})))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O("No se ha podido borrar el espacio. Vuelve a intentarlo mas tarde.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()();var c},icon:xe.a},"list-vertical-like-o")],extra:Object(c.jsx)("img",{width:272,alt:e.name,src:e.image[0]}),children:[Object(c.jsx)(J.b.Item.Meta,{avatar:Object(c.jsx)(oe.a,{src:a.avatar}),title:Object(c.jsx)("a",{href:"/space/".concat(e.id),children:e.title}),description:e.description}),e.content]},n)}}),","]})}a(486);var ye=function(e){var t=e.match,a=w().user,r=Object(n.useState)(null),s=Object(u.a)(r,2),i=s[0],l=s[1],o=t.params.id,b=ie.a.Item,m=Object(n.useState)("datos"),h=Object(u.a)(m,2),p=h[0],O=h[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=o,T.get("/user/".concat(a));case 3:t=e.sent,console.log(t),l(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}var a}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(c.jsx)("div",{className:"profile",style:{marginTop:"80px"},children:null===i?Object(c.jsx)("div",{className:"text-center",style:{marginTop:"120px"},children:Object(c.jsx)(se.a,{})}):Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row menu-profile",children:[Object(c.jsx)("div",{className:"col-md-4 ",children:Object(c.jsxs)(ie.a,{onClick:function(e){O(e.key)},style:{width:256},mode:"vertical",children:[Object(c.jsx)(b,{style:{display:"flex",alignItems:"center"},icon:Object(c.jsx)(ce.a,{}),children:"Datos personales"},"datos"),(null===a||void 0===a?void 0:a.id)===i.id&&Object(c.jsx)(b,{style:{display:"flex",alignItems:"center"},icon:Object(c.jsx)(ne.a,{}),children:"Mensajes"},"mensajes"),Object(c.jsx)(b,{style:{display:"flex",alignItems:"center"},icon:Object(c.jsx)(re.a,{}),children:"Espacios"},"espacios")]})}),Object(c.jsxs)("div",{className:"col-md-8",children:["datos"===p&&Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(he,{userProfile:i})}),"mensajes"===p&&Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(je,{userProfile:i})}),"espacios"===p&&Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(ge,{setUserProfile:l,userProfile:i})})]})]})})})},Ne=a(704),we=a(703),Ce=a(723),ke=a(693),Se=a(714);function De(){return Object(c.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(_.a,{color:"inherit",href:"/",children:"Your Work"})," ",(new Date).getFullYear(),"."]})}var Ie=Object(h.a)((function(e){return{root:{height:"100vh"},image:{height:"100vh",backgroundImage:"url(images/cink_castellana_4.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,width:"10em"},form:{width:"100%",marginTop:e.spacing(1)},submit:{backgroundColor:"#132651",margin:e.spacing(3,0,2)}}})),Ee={password:function(e){return e.length>1},email:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}};function Pe(){var e=Ie(),t=w().login,a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)({data:{email:"",password:""},error:{email:!0,password:!0},touch:{}}),o=Object(u.a)(l,2),h=o[0],p=o[1],O=function(e){var t=e.target,a=t.name,c=t.value,n=Ee.hasOwnProperty(a)?Ee[a](c):"";p({data:Object(g.a)(Object(g.a)({},h.data),{},Object(ue.a)({},a,c)),error:Object(g.a)(Object(g.a)({},h.error),{},Object(ue.a)({},a,""!==n&&!n)),touch:Object(g.a)({},h.touch)})},x=function(e){var t=e.target.name;p(Object(g.a)(Object(g.a)({},h),{},{touch:Object(g.a)(Object(g.a)({},h.touch),{},Object(ue.a)({},t,!0))}))},f=h.data,v=h.error,y=h.touch,N=Object.values(v).some((function(e){return e}));return Object(c.jsxs)(Q.a,{container:!0,component:"main",className:e.root,children:[Object(c.jsx)(b.a,{}),Object(c.jsx)(Q.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(c.jsx)(Q.a,{item:!0,xs:12,sm:8,md:5,component:ke.a,elevation:6,square:!0,children:Object(c.jsxs)("div",{className:e.paper,children:[Object(c.jsx)(_.a,{href:"/",children:Object(c.jsx)("img",{src:"/images/logo.png",alt:"logo",className:e.avatar})}),Object(c.jsx)(m.a,{component:"h1",variant:"h5",children:"Inicia sesi\xf3n"}),Object(c.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),function(){var e=Object(j.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(h.data);case 3:a=e.sent,t(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i("Email o contrase\xf1a incorrectos. Vuelva a intentarlo");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(c.jsx)(be.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Correo electr\xf3nico",name:"email",autoComplete:"email",autoFocus:!0,onBlur:x,value:f.email,onChange:O,error:!(!v.email||!y.email)}),Object(c.jsx)(be.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",onBlur:x,value:f.password,onChange:O,error:!(!v.password||!y.password)}),null!==s?s:"",Object(c.jsx)(we.a,{control:Object(c.jsx)(Ce.a,{value:"remember",color:"#132651"}),label:"No me olvides"}),Object(c.jsx)(Ne.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:N,className:N?"button disable":"button",children:"Iniciar sesi\xf3n"}),Object(c.jsxs)(Q.a,{container:!0,children:[Object(c.jsx)(Q.a,{item:!0,xs:!0,children:Object(c.jsx)(_.a,{href:"#",variant:"body2",children:"\xbfHas olvidado la contrase\xf1a?"})}),Object(c.jsx)(Q.a,{item:!0,children:Object(c.jsx)(_.a,{href:"/register",variant:"body2",children:"\xbfNo tienes cuenta? Registrate"})})]}),Object(c.jsx)(Se.a,{mt:5,children:Object(c.jsx)(De,{})})]})]})})]})}var Te=a(701),ze=a(731),Fe=a(721),Re=a(705),Le=a(739),Ue=a(740);a(489),a(699);var Ae=a(85),Me={width:"400px",height:"400px"};function Be(e){return Object(c.jsxs)(Ae.c,{googleMapsApiKey:"AIzaSyCzy4eafr7lbyU0jKF-Q6Pp1kQGIpwu7dU",libraries:["places"],children:[Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)(Ae.a,{onPlaceChanged:e.onPlaceSelected,types:["address"],restrictions:{country:"es"},onLoad:e.onLoad,children:Object(c.jsx)("input",{type:"text",placeholder:"Introduce la direcci\xf3n",style:{width:"100%",height:"40px",paddingLeft:"16px",marginTop:"2px",marginBottom:"15px"}})}),Object(c.jsx)("label",{children:"Piso, puerta, escalera, etc"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{style:{width:"100%",height:"40px",paddingLeft:"16px",marginTop:"2px"},type:"text",name:"extraDirection",value:e.valueInput,onChange:e.onChange})]}),Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)(Ae.b,{mapContainerStyle:Me,center:e.center,zoom:15,onUnmount:e.onUnmount,children:e.marker?e.marker.map((function(e){return Object(c.jsx)(Ae.d,{position:e},e.id)})):Object(c.jsx)(Ae.d,{position:e.center})})})]})}var We=r.a.memo(Be),qe={title:function(e){return e.length>1},files:function(e){return e.length>1},description:function(e){return e.length>25},service:function(e){return e.length>1},schedule:function(e){return e.length>1},direction:function(e){return e.length>1},price:function(e){return e>1},quantity:function(e){return e>1},type:function(e){return e.length>1},scheduletype:function(e){return e.length>2}},Ye=["Gestion de agencias","Oficina Virtual","Recepci\xf3n de emails","Sala de reuniones","Recepci\xf3n","Pizarra/Flipchart","TV","Parking","Cacina","Catering","Aire Acondicionado","Domiciliaci\xf3n Fiscal","Intert + WIFI","Impresora","Equipo de sonido","Acceso 24/7","Gesti\xf3n de eventos","Recepci\xf3n de llamadas","Recepci\xf3n paqueter\xeda","Secretar\xeda","Impresora","Uso de Direcci\xf3n","Ni\xf1os permitidos","Coworking Visa","Caf\xe9 de cortes\xeda","Fruta","Alarma","Domiciliaci\xf3n Social","Mascotas permitidas","Fotocopiadora","Esc\xe1ner"],Ve=function(e){var t=Object(n.useState)({data:{title:"",files:[],description:"",service:[],direction:"",extraDirection:"",city:"",coordinates:{lat:40.416775,lng:-3.70379},type:"",quantity:0,price:0,schedule:[],scheduletype:"",timeEntry:"08:30",timeExit:"18:30"},error:{title:!0,files:!0,description:!0,service:!0,schedule:!0,direction:!0,price:!0,quantity:!0,type:!0,scheduletype:!0},touch:{}}),a=Object(u.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(null),o=Object(u.a)(i,2),b=o[0],m=o[1],h=Object(l.g)(),p=function(e){var t=e.target,a=t.name,c=t.value,n=t.files,i=qe.hasOwnProperty(a)?qe[a](c):"";s({data:Object(g.a)(Object(g.a)({},r.data),{},Object(ue.a)({},a,"service"===a||"schedule"===a?e.target.checked?[].concat(Object(le.a)(r.data[a].filter((function(e){return e!==c}))),[c]):Object(le.a)(r.data[a].filter((function(e){return e!==c}))):n||c)),error:Object(g.a)(Object(g.a)({},r.error),{},Object(ue.a)({},a,""!==i&&!i)),touch:Object(g.a)({},r.touch)})},O=Object(n.useCallback)((function(e){m(e)}),[]),x=Object(n.useCallback)((function(e){m(null)}),[]),f=function(e){var t=e.target.name;s(Object(g.a)(Object(g.a)({},r),{},{touch:Object(g.a)(Object(g.a)({},r.touch),{},Object(ue.a)({},t,!0))}))},v=r.data,N=r.error,w=r.touch,C=Object.values(N).some((function(e){return e}));return Object(c.jsxs)("div",{className:"NewSpace",children:[Object(c.jsx)("h2",{className:"text-center font-italic mt-5",children:"Crear Espacio de Coworking"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(r.data);case 3:t=e.sent,h.push("/space/".concat(t.id)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(c.jsxs)("div",{className:"container container-article",children:[Object(c.jsx)("h5",{className:"ml-4 mt-3 font-weight-bold",children:"Informaci\xf3n General"}),Object(c.jsxs)("div",{className:"row mt-5 ml-5",children:[Object(c.jsxs)("div",{className:"col-md-6 d-flex flex-column justify-content-between ",children:[Object(c.jsx)(be.a,{id:"standard-basic",label:"Nombre del Espacio *",name:"title",onBlur:f,value:v.title,onChange:p,helperText:"Quedan ".concat(28-v.title.length," caracteres"),inputProps:{maxLength:28},error:!(!N.title||!w.title)}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("h6",{children:"Sube las im\xe1genes de tu espacio"}),Object(c.jsx)("input",{type:"file",onChange:p,name:"files",multiple:!0})]})]}),Object(c.jsx)("div",{className:"col-md-5 d-flex flex-column",children:Object(c.jsx)(be.a,{id:"standard-multiline-static",name:"description",label:"Descripci\xf3n *",multiline:!0,rows:8,cols:20,onBlur:f,value:v.description,onChange:p,helperText:"Quedan ".concat(1500-v.description.length," caracteres"),inputProps:{maxLength:1500},error:!(!N.description||!w.description)})})]})]}),Object(c.jsxs)("div",{className:"container container-article",children:[Object(c.jsx)("h5",{className:"ml-4 mt-3 font-weight-bold",children:"Servicios"}),Object(c.jsx)("div",{className:"row mt-5 ml-5",children:Ye.map((function(e,t){return Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)(we.a,{control:Object(c.jsx)(Ce.a,{icon:Object(c.jsx)(Le.a,{}),checkedIcon:Object(c.jsx)(Ue.a,{}),value:e,name:"service",onChange:p}),label:e})},t)}))})]}),Object(c.jsxs)("div",{className:"container container-article",children:[Object(c.jsx)("h5",{className:"ml-4 mt-3 font-weight-bold",children:"Direcci\xf3n"}),Object(c.jsx)("div",{className:"row mt-5 ml-5",children:Object(c.jsx)(We,{center:v.coordinates,onPlaceSelected:function(){var e=b.getPlace(),t=e.formatted_address,a=e.address_components[2].long_name,c=e.geometry.location.lat(),n=e.geometry.location.lng();s({data:Object(g.a)(Object(g.a)({},r.data),{},{direction:t,city:a,coordinates:{lat:c,lng:n}}),error:Object(g.a)(Object(g.a)({},r.error),{},{direction:!1}),touch:Object(g.a)(Object(g.a)({},r.touch),{},{direction:!0})})},onChange:p,valueInput:v.extraDirection,onLoad:O,onUnmount:x})})]}),Object(c.jsxs)("div",{className:"container container-article",children:[Object(c.jsx)("h5",{className:"ml-4 mt-3 font-weight-bold",children:"Caracteristicas"}),Object(c.jsx)("div",{className:"row mt-5 ml-5",children:Object(c.jsx)("h6",{children:"Horario"})}),Object(c.jsxs)("div",{className:"row mt-1 ml-5",children:[Object(c.jsx)(we.a,{value:"Lunes",control:Object(c.jsx)(Ce.a,{color:"primary"}),label:"Lu",labelPlacement:"top",className:"schedule",onChange:p,name:"schedule"}),Object(c.jsx)(we.a,{value:"Martes",control:Object(c.jsx)(Ce.a,{color:"primary"}),label:"Ma",labelPlacement:"top",className:"schedule",onChange:p,name:"schedule"}),Object(c.jsx)(we.a,{value:"Miercoles",control:Object(c.jsx)(Ce.a,{color:"primary"}),label:"Mi",labelPlacement:"top",className:"schedule",onChange:p,name:"schedule"}),Object(c.jsx)(we.a,{value:"Jueves",control:Object(c.jsx)(Ce.a,{color:"primary"}),label:"Ju",labelPlacement:"top",className:"schedule",onChange:p,name:"schedule"}),Object(c.jsx)(we.a,{value:"Viernes",control:Object(c.jsx)(Ce.a,{color:"primary"}),label:"Vi",labelPlacement:"top",className:"schedule",onChange:p,name:"schedule"}),Object(c.jsx)(we.a,{value:"Sabado",control:Object(c.jsx)(Ce.a,{color:"primary"}),label:"Sa",labelPlacement:"top",className:"schedule",onChange:p,name:"schedule"}),Object(c.jsx)(we.a,{value:"Domingo",control:Object(c.jsx)(Ce.a,{color:"primary"}),onChange:p,name:"schedule",label:"Do",labelPlacement:"top",className:"schedule"})]}),v.schedule.length>0?Object(c.jsxs)("div",{className:"row mt-2 ml-5",children:[Object(c.jsxs)(Te.a,{className:"form-select",children:[Object(c.jsx)(ze.a,{id:"demo-simple-select-label",children:"Turno de apertura"}),Object(c.jsxs)(Fe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v.scheduletype,name:"scheduletype",onChange:p,onBlur:f,children:[Object(c.jsx)(Re.a,{value:"Ma\xf1ana",children:"Horario de ma\xf1ana"}),Object(c.jsx)(Re.a,{value:"Tarde",children:"Horario de tarde"}),Object(c.jsx)(Re.a,{value:"Todo el d\xeda",children:"Todo el d\xeda"})]})]}),Object(c.jsx)(Te.a,{className:"form-select",children:Object(c.jsx)(be.a,{id:"time",label:"Entrada",type:"time",value:v.timeEntry,onChange:p,name:"timeEntry"})}),Object(c.jsx)(Te.a,{className:"form-select",children:Object(c.jsx)(be.a,{id:"time",label:"Salida",type:"time",onChange:p,name:"timeExit",value:v.timeExit})})]}):"",Object(c.jsx)("div",{className:"row mt-5 ml-5",children:Object(c.jsx)("h6",{children:"Espacio"})}),Object(c.jsxs)("div",{className:"row mt-1 ml-5",children:[Object(c.jsxs)(Te.a,{className:"form-select",children:[Object(c.jsx)(ze.a,{id:"demo-simple-select-label",children:"Tipo de espacio"}),Object(c.jsxs)(Fe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v.type,name:"type",onChange:p,onBlur:f,error:!(!N.type||!w.type),children:[Object(c.jsx)(Re.a,{value:"office",children:"Oficina completa"}),Object(c.jsx)(Re.a,{value:"desk",children:"Escritorio"}),Object(c.jsx)(Re.a,{value:"meetingRoom",children:"Sala de reuniones"})]})]}),""!==v.type?Object(c.jsxs)("div",{children:[Object(c.jsx)(be.a,{className:"form-select",id:"standard-basic",label:"Capacidad de personas",type:"number",name:"quantity",onChange:p,onBlur:f,value:v.quantity,error:!(!N.quantity||!w.quantity)}),Object(c.jsx)(be.a,{className:"form-select",id:"standard-basic",label:"desk"===v.type?"Precio por persona/d\xeda":"Precio por d\xeda",type:"number",name:"price",onBlur:f,onChange:p,value:v.price,error:!(!N.price||!w.price)})]}):""]})]}),Object(c.jsx)(y,{disable:C,type:"submit",name:"Crear Espacio",className:C?"button disable":"button"})]})]})},He=function(){return Object(c.jsx)(l.a,{to:"/"})},Ge=function(){return Object(c.jsx)(l.a,{to:"/login"})},Je=function(){return w().user};function Qe(e){return Object(c.jsx)(l.b,Object(g.a)(Object(g.a)({},e),{},{component:null!==Je()?e.component:Ge}))}function _e(e){return Object(c.jsx)(l.b,Object(g.a)(Object(g.a)({},e),{},{component:null!==Je()?He:e.component}))}a(490);function Ke(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=(a[0],a[1]),s=(Object(n.useCallback)((function(e){r(e)}),[]),Object(n.useCallback)((function(e){r(null)}),[]));return Object(c.jsx)(Ae.c,{googleMapsApiKey:"AIzaSyCzy4eafr7lbyU0jKF-Q6Pp1kQGIpwu7dU",children:Object(c.jsx)(Ae.b,{mapContainerStyle:e.containerStyle,center:e.center,zoom:15,onUnmount:s,children:e.marker?e.marker.map((function(e,t){return Object(c.jsx)(Ae.d,{position:e},t)})):Object(c.jsx)(Ae.d,{position:e.center})})})}var Ze=r.a.memo(Ke),$e=a(741),Xe=a(706),et=a(707),tt=a(742),at=function(e){var t=e.match,a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),b=o[0],m=o[1],h=Object(n.useState)({type:[],service:[]}),p=Object(u.a)(h,2),O=p[0],x=p[1],f=Object(n.useState)(void 0),v=Object(u.a)(f,2),y=v[0],N=v[1],w=t.params.search;Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=w,T.get("/spaces/".concat(a));case 2:t=e.sent,i(t),N(t),m(t.map((function(e){return{lat:e.location.coordinates[0],lng:e.location.coordinates[1]}})));case 6:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}})()()}),[w]),Object(n.useEffect)((function(){N(null===s||void 0===s?void 0:s.filter((function(e){return O.service.every((function(t){return e.services.includes(t)}))&&O.type.every((function(t){return t.includes(e.type[0])}))}))),void 0!==y&&m(y.map((function(e){return{lat:e.location.coordinates[0],lng:e.location.coordinates[1]}})))}),[O]);var C=function(e){var t=e.target,a=t.name,c=t.value;x(Object(g.a)(Object(g.a)({},O),{},Object(ue.a)({},a,O[a].includes(c)?Object(le.a)(O[a].filter((function(e){return e!==c}))):[].concat(Object(le.a)(O[a].filter((function(e){return e!==c}))),[c]))))};return Object(c.jsxs)("div",{className:"SearchSpace",children:[Object(c.jsx)("h1",{className:"text-center font-italic title",children:"Espacios en ".concat(w)}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)($e.a,{children:[Object(c.jsxs)(Xe.a,{"aria-controls":"panel1d-content",id:"panel1d-header",children:[Object(c.jsx)(tt.a,{}),Object(c.jsx)(me.a,{className:"ml-2",children:"Filtro"})]}),Object(c.jsx)(et.a,{children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-4",children:[Object(c.jsx)("h6",{className:"title-search",children:"Tipo de Espacio"}),Object(c.jsx)("button",{name:"type",value:"office",onClick:C,className:O.type.includes("office")?"element-search selected":"element-search ",children:"Oficina completa"}),Object(c.jsx)("button",{name:"type",value:"desk",onClick:C,className:O.type.includes("desk")?"element-search selected":"element-search ",children:"Escritorio individual"}),Object(c.jsx)("button",{name:"type",value:"meetingRoom",onClick:C,className:O.type.includes("meetingRoom")?"element-search selected":"element-search ",children:"Sala de reuniones"})]}),Object(c.jsxs)("div",{className:"col-md-8",children:[Object(c.jsx)("h6",{className:"title-search",children:"Servicios"}),Object(c.jsx)("div",{className:"row",children:["Gestion de agencias","Oficina Virtual","Recepci\xf3n de emails","Sala de reuniones","Recepci\xf3n","Pizarra/Flipchart","TV","Parking","Cacina","Catering","Aire Acondicionado","Domiciliaci\xf3n Fiscal","Intert + WIFI","Impresora","Equipo de sonido","Acceso 24/7","Gesti\xf3n de eventos","Recepci\xf3n de llamadas","Recepci\xf3n paqueter\xeda","Secretar\xeda","Impresora","Uso de Direcci\xf3n","Ni\xf1os permitidos","Coworking Visa","Caf\xe9 de cortes\xeda","Fruta","Alarma","Domiciliaci\xf3n Social","Mascotas permitidas","Fotocopiadora","Esc\xe1ner"].map((function(e,t){return Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(we.a,{control:Object(c.jsx)(Ce.a,{icon:Object(c.jsx)(Le.a,{}),checkedIcon:Object(c.jsx)(Ue.a,{}),value:e,name:"service",onChange:C}),label:e})},t)}))})]})]})})})]})}),Object(c.jsx)("div",{className:"container-space",children:void 0===y?Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"alert alert-warning mt-5 text-center",role:"alert",children:"Cargando..."})}):0===y.length?Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("h3",{className:"font-italic mt-5 text-center",role:"alert",children:"Upps.. No hay resultados de tu busqueda"})}):Object(c.jsx)("div",{className:"conainer-fluid",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsx)(Ze,{containerStyle:{width:"100%",height:"100vh"},marker:b,center:b[0]})}),Object(c.jsx)("div",{className:"col-md-7",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row cards-spaces",children:y.map((function(e,t){return Object(c.jsx)(H,{space:e,n:5},t)}))})})})]})})})]})},ct=a(24),nt=a(22),rt=a(27),st=a(38),it=a(743),lt=a(138),ot=a.n(lt),dt=a(708),jt=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(18),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ut(e){var t=jt(),a=e.handleChange,n=e.handleBlur,r=e.value,s=r.data,i=r.error,l=r.touch;return console.log(e),Object(c.jsxs)(dt.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(b.a,{}),Object(c.jsxs)("div",{className:t.paper,children:[Object(c.jsx)(it.a,{className:t.avatar,children:Object(c.jsx)(ot.a,{})}),Object(c.jsx)(m.a,{component:"h1",variant:"h5",children:"Registro de nuevo usuario"}),Object(c.jsxs)("form",{className:t.form,children:[Object(c.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(c.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(c.jsx)(be.a,{autoComplete:"given-name",name:"firstName",value:s.firstName,onChange:a,onBlur:n,error:!(!i.firstName||!l.firstName),variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"Nombre",autoFocus:!0})}),Object(c.jsx)(Q.a,{item:!0,xs:12,sm:6,children:Object(c.jsx)(be.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Apellido",name:"lastName",value:s.lastName,onChange:a,onBlur:n,error:!(!i.lastName||!l.lastName),autoComplete:"family-name"})}),Object(c.jsx)(Q.a,{item:!0,xs:12,children:Object(c.jsx)(be.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Correo electr\xf3nico",name:"email",value:s.email,onChange:a,onBlur:n,error:!(!i.email||!l.email),autoComplete:"email"})}),Object(c.jsx)(Q.a,{item:!0,xs:12,children:Object(c.jsx)(be.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",value:s.password,onChange:a,onBlur:n,error:!(!i.password||!l.password),label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(c.jsx)(Ne.a,{className:t.submit,type:"submit",variant:"contained",color:"primary",onClick:function(t){t.preventDefault(),e.nextStep()},children:"Continuar"}),Object(c.jsx)(Q.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(Q.a,{item:!0,children:Object(c.jsx)(_.a,{href:"/login",variant:"body2",children:"\xbfYa eres usuario? Inicia sesi\xf3n"})})})]})]})]})}function bt(){return Object(c.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(_.a,{color:"inherit",href:"https://material-ui.com/",children:"You Work"})," ",(new Date).getFullYear(),"."]})}var mt=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(18),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,3,2)},disable:{margin:e.spacing(3,3,2),opacity:.5}}}));function ht(e){var t,a=mt(),n=e.handleChange,r=e.handleBlur,s=e.disable,i=e.value,l=i.data,o=i.error,d=i.touch;return Object(c.jsxs)(dt.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(b.a,{}),Object(c.jsxs)("div",{className:a.paper,children:[Object(c.jsx)(it.a,{className:a.avatar,children:Object(c.jsx)(ot.a,{})}),Object(c.jsx)(m.a,{component:"h1",variant:"h5",children:"Datos profesionales"}),Object(c.jsxs)("form",{className:a.form,children:[Object(c.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(c.jsx)(Q.a,{item:!0,xs:12,children:Object(c.jsx)(be.a,{name:"number",type:"tel",value:l.number,onChange:n,onBlur:r,error:!(!o.number||!d.number),variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"Numero de tel\xe9fono",autoFocus:!0,autoComplete:"tel"})}),Object(c.jsx)(Q.a,{item:!0,xs:12,children:Object(c.jsx)(be.a,{variant:"outlined",fullWidth:!0,id:"razonSocial",label:"Raz\xf3n Social",name:"razonSocial",value:l.razonSocial,onChange:n})}),Object(c.jsx)(Q.a,{item:!0,xs:12,children:Object(c.jsx)(be.a,{variant:"outlined",fullWidth:!0,id:"nif",label:"NIF",name:"nif",value:l.nif,onChange:n})}),Object(c.jsx)(Q.a,{item:!0,xs:12,children:Object(c.jsx)(be.a,{variant:"outlined",fullWidth:!0,id:"direccion",label:"Domicilio Fiscal",name:"direccion",value:l.direccion,onChange:n})})]}),Object(c.jsx)(Ne.a,{item:!0,xs:12,sm:6,className:a.submit,type:"submit",variant:"contained",color:"primary",onClick:function(t){t.preventDefault(),e.prevStep()},children:"Atr\xe1s"}),Object(c.jsx)(Ne.a,(t={item:!0,xs:12,sm:6,className:a.submit,type:"submit",variant:"contained",color:"primary",disabled:s},Object(ue.a)(t,"className",s?a.disable:a.submit),Object(ue.a)(t,"onClick",(function(t){t.preventDefault(),e.nextStep()})),Object(ue.a)(t,"children","Confirmar"),t)),Object(c.jsx)(Q.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(Q.a,{item:!0,children:Object(c.jsx)(_.a,{href:"/login",variant:"body2",children:"\xbfYa eres usuario? Inicia sesi\xf3n"})})})]})]}),Object(c.jsx)(Se.a,{mt:5,children:Object(c.jsx)(bt,{})})]})}var pt=a(744),Ot=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(18),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function xt(e){var t=Ot();return Object(c.jsxs)(dt.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(b.a,{}),Object(c.jsxs)("div",{className:t.paper,children:[Object(c.jsx)(it.a,{className:t.avatar,children:Object(c.jsx)(ot.a,{})}),Object(c.jsx)(m.a,{component:"h1",variant:"h5",children:"\xa1Enhorabuena!"}),Object(c.jsx)(pt.a,{}),Object(c.jsx)(m.a,{component:"h1",variant:"h5",children:"Has finalizado el registo. Comprueba tu correo para verificar tu cuenta."}),Object(c.jsx)(m.a,{component:"h1",variant:"h5",children:"Comprueba tu correo para verificar tu cuenta."}),Object(c.jsx)(Ne.a,{type:"submit",variant:"contained",color:"primary",children:Object(c.jsx)(_.a,{href:"/login",children:"COntinuar"})}),Object(c.jsx)(Q.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(Q.a,{item:!0,children:Object(c.jsx)(_.a,{href:"/login",variant:"body2",children:"\xbfYa eres usuario? Inicia sesi\xf3n"})})})]})]})}var ft={firstName:function(e){return e.length>1},lastName:function(e){return e.length>1},email:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},password:function(e){return e.length>1},number:function(e){var t=e.toString().replace(/\s/g,"");return 9===t.length&&/^[679]{1}[0-9]{8}$/.test(t)}},vt=function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(){var e;Object(ct.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={data:{step:1,firstName:"",lastName:"",email:"",password:"",avatar:"",number:"",nif:"",razonSocial:"",direccion:""},error:{firstName:!0,lastName:!0,email:!0,password:!0,number:!0},touch:{}},e.nextStep=function(){var t=e.state.data.step;e.setState({data:Object(g.a)(Object(g.a)({},e.state.data),{},{step:t+1})})},e.prevStep=function(){var t=e.state.data.step;e.setState({data:Object(g.a)(Object(g.a)({},e.state.data),{},{step:t-1})})},e.handleSubmit=function(t){t.preventDefault(),console.log("Hola"),function(){var t=Object(j.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F(e.state.data);case 3:a=t.sent,console.log(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()},e.handleChange=function(t){var a=t.target,c=a.name,n=a.value,r=ft.hasOwnProperty(c)?ft[c](n):"";e.setState({data:Object(g.a)(Object(g.a)({},e.state.data),{},Object(ue.a)({},c,n)),error:Object(g.a)(Object(g.a)({},e.state.error),{},Object(ue.a)({},c,""!==r&&!r)),touch:Object(g.a)({},e.state.touch)}),console.log(e.state.error)},e.handleBlur=function(t){var a=t.target.name;e.setState(Object(g.a)(Object(g.a)({},e.state),{},{touch:Object(g.a)(Object(g.a)({},e.state.touch),{},Object(ue.a)({},a,!0))}))},e}return Object(nt.a)(a,[{key:"render",value:function(){var e=this.state.data.step,t=Object.values(this.state.error).some((function(e){return e}));switch(console.log(t),e){case 1:return Object(c.jsx)(ut,{nextStep:this.nextStep,handleChange:this.handleChange,handleBlur:this.handleBlur,value:this.state});case 2:return Object(c.jsx)(ht,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,handleBlur:this.handleBlur,handleSubmit:this.handleSubmit,value:this.state,disable:t});case 3:return Object(c.jsx)(xt,{});default:return null}}}]),a}(r.a.Component),gt=a(727),yt=a(710),Nt=a(719),wt=a(716);function Ct(e){var t=e.percent,a=e.label;return Object(c.jsx)("div",{className:"rating d-flex align-items-center mb-2",children:Object(c.jsxs)("div",{className:"row w-100",children:[Object(c.jsx)("div",{className:"col-4",children:Object(c.jsxs)("label",{className:"mr-3 mb-0",htmlFor:a,children:[" ",a[0].toUpperCase()+a.slice(1)," "]})}),Object(c.jsx)("div",{className:"col-8",children:Object(c.jsx)(wt.a,{strokeColor:"#132651",format:function(e){return"".concat(e)},percent:2*t,size:"small"})})]})})}var kt=a(709);function St(e){var t=e.data,a=e.handleDelete,n=w().user;return Object(c.jsx)(J.b,{className:"comment-list",header:"".concat(t.length," commentarios"),itemLayout:"horizontal",dataSource:t,renderItem:function(e){var t,r,s,i;return Object(c.jsx)("li",{children:Object(c.jsx)(kt.a,{actions:n===(null===(t=e.user)||void 0===t?void 0:t.id)&&[Object(c.jsx)("span",{onClick:function(){return a(e.id)},style:{color:"red"},children:"Borrar"},"comment-nested-reply-to")],author:null===(r=e.user)||void 0===r?void 0:r.name,avatar:null===(s=e.user)||void 0===s?void 0:s.avatar,content:e.text,datetime:(i=e.updatedAt,new Date(i).toLocaleString())})})}})}var Dt=a(725),It=a(713),Et=a(122);function Pt(e){var t=Dt.a.TextArea;return Object(c.jsxs)("div",{children:[Object(c.jsx)(It.a.Item,{children:Object(c.jsx)(t,{style:{resize:"none"},name:"comment",rows:4,onChange:e.onChange,value:e.comment})}),null!==e.error&&Object(c.jsx)(ve.a,{style:{margin:"5px 0"},message:e.error,type:"error",showIcon:!0,closable:!0}),Object(c.jsx)(It.a.Item,{children:Object(c.jsx)(Et.a,{htmlType:"submit",loading:e.submitting,onClick:e.onSubmit,style:{padding:"10px 20px",border:"0",height:"100%",borderRadius:"5px"},className:"button",children:"A\xf1adir Comentario"})})]})}var Tt=a(718),zt=a(745),Ft=a(746),Rt=a(724),Lt={1:Object(c.jsx)(zt.a,{}),2:Object(c.jsx)(zt.a,{}),3:Object(c.jsx)(Le.a,{}),4:Object(c.jsx)(Ft.a,{}),5:Object(c.jsx)(Ft.a,{})};function Ut(e){var t=e.label,a=e.onChange,n=e.name,r=e.value;return Object(c.jsxs)("div",{className:"rating d-flex align-items-center mb-2",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsxs)("label",{className:"mr-3 mb-0",htmlFor:t,children:[" ",t[0].toUpperCase()+t.slice(1)," "]})}),Object(c.jsx)("div",{className:"col-9",children:Object(c.jsx)(Rt.a,{value:r,name:n,defaultValue:0,character:function(e){var t=e.index;return Lt[t+1]},onChange:function(e){return a({name:n,value:e})}})})]})}var At=function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(e){var c;return Object(ct.a)(this,a),(c=t.call(this,e)).showModal=function(){c.setState({visible:!0})},c.handleOk=function(){c.setState({confirmLoading:!0});var e=Object(g.a)({},c.state);delete e.visible,delete e.confirmLoading,delete e.error,function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(c.props.spaceId,e);case 3:c.setState({visibleok:!0}),c.props.setChange(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()(),setTimeout((function(){c.setState({generalExperience:0,clean:0,veracity:0,location:0,arrival:0,services:0,communication:0,visible:!1,confirmLoading:!1})}),2e3),setTimeout((function(){c.setState({visibleok:!1})}),5e3)},c.handleCancel=function(){c.setState({visible:!1})},c.onChange=function(e){var t=e.name,a=e.value;c.setState(Object(ue.a)({},t,a))},c.state={generalExperience:0,clean:0,veracity:0,location:0,arrival:0,services:0,communication:0,visible:!1,confirmLoading:!1,error:null,visibleok:!1},c}return Object(nt.a)(a,[{key:"render",value:function(){var e=this.state,t=e.visible,a=e.confirmLoading;return Object(c.jsxs)("span",{children:[Object(c.jsx)(Et.a,{className:"button",style:{marginBottom:"0",padding:"10px 20px",border:"0",height:"100%",borderRadius:"5px"},onClick:this.showModal,children:"Introducir Evaluaci\xf3n"}),this.state.visibleok&&Object(c.jsx)(ve.a,{style:{margin:"0 10px",display:"inline"},message:"Gracias por tu evaluaci\xf3n",type:"success",showIcon:!0,closable:!0}),null!==this.state.error&&Object(c.jsx)(ve.a,{style:{margin:"0 10px",display:"inline"},message:this.state.error,type:"error",showIcon:!0,closable:!0}),Object(c.jsxs)(Tt.a,{title:"Eval\xfaa el paso por este espacio",visible:t,onOk:this.handleOk,confirmLoading:a,onCancel:this.handleCancel,children:[Object(c.jsx)(Ut,{label:"General",value:this.state.generalExperience,name:"generalExperience",onChange:this.onChange}),Object(c.jsx)(Ut,{label:"Limpieza",value:this.state.clean,name:"clean",onChange:this.onChange}),Object(c.jsx)(Ut,{label:"Veracidad",value:this.state.veracity,name:"veracity",onChange:this.onChange}),Object(c.jsx)(Ut,{label:"Comunicacion",value:this.state.communication,name:"communication",onChange:this.onChange}),Object(c.jsx)(Ut,{label:"Localizacion",value:this.state.location,name:"location",onChange:this.onChange}),Object(c.jsx)(Ut,{label:"Llegada",value:this.state.arrival,name:"arrival",onChange:this.onChange}),Object(c.jsx)(Ut,{label:"Servicios",value:this.state.services,name:"services",onChange:this.onChange})]})]})}}]),a}(r.a.Component),Mt=a(747),Bt=a(325),Wt=a.n(Bt),qt=a(320),Yt=a(125);function Vt(e){var t=e.pay,a=e.booking,r=e.idSpace,s=e.change,i=e.closeDialog,l=Object(n.useState)(!1),o=Object(u.a)(l,2),b=o[0],m=o[1],h=Object(n.useState)(null),p=Object(u.a)(h,2),O=p[0],x=p[1],f=Object(n.useState)(""),v=Object(u.a)(f,2),g=v[0],y=v[1],N=Object(n.useState)(!0),w=Object(u.a)(N,2),C=w[0],k=w[1],S=Object(Yt.useStripe)(),D=Object(Yt.useElements)(),I=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t.empty),x(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(d.a.mark((function e(c){var n,l,o,j,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),S&&D){e.next=3;break}return e.abrupt("return");case 3:return y(!0),e.next=6,S.createPaymentMethod({type:"card",card:D.getElement(Yt.CardElement)});case 6:if(n=e.sent,l=n.error,o=n.paymentMethod,l){e.next=35;break}return console.log("Stripe 23 | token generated!",o),e.prev=10,j=o.id,e.next=14,A(t,j);case 14:if(u=e.sent,console.log("Stripe 35 | data",u.success),!u.success){e.next=26;break}return console.log("CheckoutForm.js 25 | payment successful!"),e.next=20,Y(r,a);case 20:e.sent,x(null),y(!1),m(!0),s(),setTimeout((function(){i()}),2e3);case 26:e.next=33;break;case 28:e.prev=28,e.t0=e.catch(10),console.log("CheckoutForm.js 28 | ",e.t0.message),x("Payment failed ".concat(e.t0.message)),y(!1);case 33:e.next=38;break;case 35:console.log(l.message),x("Payment failed ".concat(l.message)),y(!1);case 38:case"end":return e.stop()}}),e,null,[[10,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{id:"payment-form",onSubmit:E,children:[Object(c.jsx)(Yt.CardElement,{id:"card-element",options:{style:{base:{color:"#132651",fontFamily:"Roboto, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#132651"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:I}),Object(c.jsx)("button",{disabled:g||C||b,id:"submit",style:{backgroundColor:"#132651",color:"white"},children:Object(c.jsx)("span",{id:"button-text",children:g?Object(c.jsx)("div",{className:"spinner",id:"spinner"}):"Pay"})}),O&&Object(c.jsx)("div",{className:"card-error",role:"alert",children:O.message}),Object(c.jsx)("p",{className:b?"result-message":"result-message hidden",children:"Pago completado. Su reserva esta efectuada."})]})}a(565);var Ht=Object(qt.a)("pk_test_51HjX0UKVsPjxRCYXjkUm4RlcUGftsrdJXMxmn0Y98YW3BN3RE8kp5ZLf8p5fnldlmCz0dqektOVHZB2Cz870Wbbz00osgoYnxQ");function Gt(e){var t=e.pay,a=e.booking,n=e.id,r=e.change,s=e.closeDialog;return Object(c.jsx)("div",{className:"Stripe",children:Object(c.jsx)(Yt.Elements,{stripe:Ht,children:Object(c.jsx)(Vt,{closeDialog:s,change:r,pay:t,booking:a,idSpace:n})})})}a(566);var Jt=function(e){var t=e.nameUser,a=e.avatar,r=e.userSpace,s=Object(n.useState)([]),i=Object(u.a)(s,2),l=i[0],o=i[1],b=Object(n.useState)(null),m=Object(u.a)(b,2),h=m[0],p=m[1],O=Object(n.useState)(null),x=Object(u.a)(O,2),f=(x[0],x[1]),v=w().user,g=Object(n.useState)(!1),y=Object(u.a)(g,2),N=y[0],C=y[1],k=Object(n.useRef)();Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(r.id);case 3:if(null!==(t=e.sent)){e.next=11;break}return e.next=7,c=r.id,T.post("/chat/".concat(c));case 7:a=e.sent,p(a),e.next=12;break;case 11:p(t);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),f("Error en el chat. Recarga la pagina y vuelva a intentarlo");case 17:case"end":return e.stop()}var c}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){window.clearTimeout(k.current);var e=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(r.id);case 3:t=e.sent,a=t[0].message[0].messages.map((function(e){return{author:e.user===v.id?"me":"them",type:"text",data:{text:e.message}}})),o(Object(le.a)(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f("No se ha podido cargar los mensajes.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();k.current=setInterval((function(){e()}),1500)}),[N]);return Object(c.jsx)("div",{children:Object(c.jsx)(de.a,{style:{zIndex:"100"},agentProfile:{teamName:t,imageUrl:a},onMessageWasSent:function(e){e.data.text.length>0&&(function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(h[0].id,e.data.text);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),f("No se ha podido enviar el mensaje.");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}()(),C(!N))},messageList:l,showEmoji:!0})})},Qt=function(e){var t=e.match,a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)(null),o=Object(u.a)(l,2),b=o[0],m=o[1],h=Object(n.useState)(!1),p=Object(u.a)(h,2),O=p[0],x=p[1],f=Object(n.useState)(null),v=Object(u.a)(f,2),g=v[0],N=v[1],C=Object(n.useState)(!1),k=Object(u.a)(C,2),S=k[0],D=k[1],I=t.params.id,E=Object(n.useState)(null),P=Object(u.a)(E,2),z=P[0],F=P[1],R=Object(n.useState)(null),U=Object(u.a)(R,2),A=U[0],M=U[1],B=Object(n.useState)([]),W=Object(u.a)(B,2),q=W[0],Y=W[1],H=Object(n.useState)([]),G=Object(u.a)(H,2),J=G[0],Q=G[1],_=Object(n.useState)(10),K=Object(u.a)(_,2),Z=K[0],$=(K[1],Object(n.useState)(null)),X=Object(u.a)($,2),ee=X[0],te=X[1],ae=Object(n.useState)(null),ce=Object(u.a)(ae,2),ne=ce[0],re=ce[1],ie=Object(n.useState)(!1),le=Object(u.a)(ie,2),oe=le[0],de=le[1],je=Object(n.useState)(null),ue=Object(u.a)(je,2),be=ue[0],me=ue[1],he=w().user,pe=function(){de(!1)};Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=I,T.get("/space/".concat(a));case 3:t=e.sent,i(t),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N(e.t0);case 11:case"end":return e.stop()}var a}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()(),console.log("hola")}),[S]),Object(n.useEffect)((function(){if(null!==s){var e=[];s.bookings.map((function(t){return t.dates.map((function(t){return e.push(t)}))}));var t=null,a=s.schedule.day.map((function(e){return"Domingo"===e&&(t=0),"Lunes"===e&&(t=1),"Martes"===e&&(t=2),"Miercoles"===e&&(t=3),"Jueves"===e&&(t=4),"Viernes"===e&&(t=5),"Sabado"===e&&(t=6),t}));Y(e.map((function(e){return new Date(e)}))),Q(a)}}),[s]),Object(n.useEffect)((function(){if(null!==z&&null!==A){var e=Math.floor(A.getUTCDate()-z.getUTCDate())||1;te(s.price*e),re(ee+Z)}}),[z,A,ee]);var Oe=function(){D(!S)};return Object(c.jsx)("div",{className:"SpaceDetail",style:{marginTop:"80px"},children:null===s?Object(c.jsx)("div",{className:"text-center",style:{marginTop:"30px"},children:Object(c.jsx)(se.a,{})}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"bg-wrapper",children:[Object(c.jsx)("div",{className:"bg-space",style:{background:"url(".concat(s.image[0],")")}}),Object(c.jsx)("div",{className:"bg-color"})]}),null!==he&&he.id!==s.user.id?Object(c.jsx)(Jt,{userSpace:s.user,nameUser:s.user.name,avatar:s.user.avatar}):"",Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"text-wrap",children:[Object(c.jsx)("h2",{children:s.title}),Object(c.jsxs)("div",{className:"price mt-5 col-md-3",children:[Object(c.jsx)("div",{className:"type",children:("office"===s.type[0]?"Oficina Completa":"")||"desk"===s.type[0]&&"Escritorio individual"||"meetingRoom"===s.type[0]&&"Sala de reuniones"}),Object(c.jsxs)("div",{children:[s.price," \u20ac / d\xeda"]})]})]})}),Object(c.jsx)("div",{className:"wrap",children:s.image.map((function(e,t){return Object(c.jsx)(Nt.a,{width:200,src:e,alt:"".concat(s.title).concat(t),height:200},t)}))}),Object(c.jsx)("div",{className:"container mt-5",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-6",children:[s.description,Object(c.jsxs)("span",{className:"see-profile-user",children:["Espacio creado por: ",Object(c.jsx)(V.b,{style:{color:"#132651"},to:"/profile/".concat(s.user.id),children:s.user.name})]})]}),Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)(Ze,{containerStyle:{width:"400px",height:"400px"},center:{lat:s.location.coordinates[0],lng:s.location.coordinates[1]}}),Object(c.jsxs)("div",{className:"contact-detail mt-3",children:[Object(c.jsx)("div",{children:s.location.direction}),Object(c.jsx)("div",{children:s.location.city}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"HORARIO"})}),Object(c.jsxs)("div",{className:"ml-2",children:[s.schedule.day.map((function(e){return e.slice(0,2)})).join(" - "),Object(c.jsx)("div",{children:"Todo el dia"===s.schedule.available?s.schedule.available:"Turno de ".concat(s.schedule.available)}),Object(c.jsx)("div",{children:"De ".concat(s.schedule.checkIn," a ").concat(s.schedule.checkOut)})]})]})]})]})]})}),Object(c.jsx)("div",{className:"container-fluid mt-5 mb-5 gray",children:Object(c.jsxs)("div",{className:"container pt-5 pb-5",children:[Object(c.jsx)("h5",{className:"mt-3 mb-5 font-weight-bold",children:"Servicios"}),Object(c.jsx)("div",{className:"row",children:s.services.map((function(e,t){return Object(c.jsx)("div",{className:"col-md-6 mt-3 service",children:e},t)}))})]})}),Object(c.jsxs)("div",{className:"container pt-5 pb-5",children:[Object(c.jsxs)("div",{className:"h5 mt-3 mb-5 font-weight-bold d-flex align-items-center",children:[Object(c.jsxs)("span",{className:"d-flex align-items-center",children:[" ",Object(c.jsx)(Mt.a,{twoToneColor:"#D1A617"})]}),s.reviews.length>1?"".concat((2*s.reviews.reduce((function(e,t){return e+t.rating.generalExperience}),0)*10/s.reviews.length).toFixed(1),"  "):0," ","( ",s.reviews.length>1?"".concat(s.reviews.length):0," Evaluaciones)",Object(c.jsx)("span",{className:"ml-5",children:Object(c.jsx)(At,{spaceId:s.id,setchange:Oe,change:S})})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)(Ct,{label:"limpieza",percent:(10*s.reviews.reduce((function(e,t){return e+t.rating.clean}),0)/s.reviews.length).toFixed(2)}),Object(c.jsx)(Ct,{label:"veracidad",percent:(10*s.reviews.reduce((function(e,t){return e+t.rating.veracity}),0)/s.reviews.length).toFixed(2)}),Object(c.jsx)(Ct,{label:"comunicaci\xf3n",percent:(10*s.reviews.reduce((function(e,t){return e+t.rating.communication}),0)/s.reviews.length).toFixed(2)})]}),Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)(Ct,{label:"localizaci\xf3n",percent:(10*s.reviews.reduce((function(e,t){return e+t.rating.location}),0)/s.reviews.length).toFixed(2)}),Object(c.jsx)(Ct,{label:"llegada",percent:(10*s.reviews.reduce((function(e,t){return e+t.rating.arrival}),0)/s.reviews.length).toFixed(2)}),Object(c.jsx)(Ct,{label:"servicios",percent:(10*s.reviews.reduce((function(e,t){return e+t.rating.services}),0)/s.reviews.length).toFixed(2)})]})]}),Object(c.jsx)("div",{className:"row mt-4 ml-3",children:Object(c.jsx)(St,{data:s.comments,handleDelete:function(e){(function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(e);case 3:D(!S),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),N(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}})()()}})}),Object(c.jsx)(Pt,{comment:b,onChange:function(e){m(e.target.value)},onSubmit:function(){x(!0),function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=I,a=b,T.post("/space/".concat(t,"/comments"),{text:a});case 3:x(!1),D(!S),m(null),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N(e.t0);case 11:case"end":return e.stop()}var t,a}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()},spaceId:s.id,error:g,submitting:O})]}),Object(c.jsx)("div",{className:"container-fluid gray",children:Object(c.jsxs)("div",{className:"container pt-5 pb-5",children:[Object(c.jsxs)("div",{className:"h5 mt-3 mb-5 ml-4 font-weight",children:[null===z?"Seleciona la fecha de entrada":null===A?"Selecciona la fecha de salida":"".concat(Math.floor(A.getUTCDate()-z.getUTCDate())||1," d\xedas en ").concat(s.title),Object(c.jsx)("small",{className:"ml-3 mt-1 font-weight-light text-muted d-block",children:null!==z&&null!==A&&"".concat(z.getUTCDate()+1," de ").concat(z.toLocaleString("default",{month:"short"})," de ").concat(z.getFullYear()," - ").concat(A.getUTCDate()+1," de ").concat(A.toLocaleString("default",{month:"short"})," de ").concat(A.getFullYear())})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-12 d-flex justify-content-center align-items-center",children:[Object(c.jsx)(Wt.a,{onChange:function(e){var t=Object(u.a)(e,2),a=t[0],c=t[1];F(a),M(c)},startDate:z,endDate:A,monthsShown:2,filterDate:function(e){var t=e.getDay(),a=new Date;return a.setDate(a.getDate()-1),e>a&&J.includes(t)&&!q.includes(e)},excludeDates:q,selectsRange:!0,inline:!0}),Object(c.jsxs)("div",{className:"card-price",children:[Object(c.jsxs)("div",{className:"price mb-3",children:[" ",s.price,"\u20ac/dia"]}),Object(c.jsxs)("div",{className:"d-flex pb-3 justify-content-center",children:[Object(c.jsxs)("div",{className:"d-flex flex-column justify-content-center text-center",children:[Object(c.jsx)("span",{children:"Entrada"}),Object(c.jsx)("small",{className:"font-weight-light text-muted",children:null!==z?"".concat(z.getUTCDate()+1," de ").concat(z.toLocaleString("default",{month:"short"})," de ").concat(z.getFullYear()):"Elige una fecha"})]}),Object(c.jsxs)("div",{className:"d-flex flex-column justify-content-center text-center ml-3",children:[Object(c.jsx)("span",{children:"Salida"}),Object(c.jsx)("small",{className:"font-weight-light text-muted d-block",children:null!==A?"".concat(A.getUTCDate()+1," de ").concat(A.toLocaleString("default",{month:"short"})," de ").concat(A.getFullYear()):"Elige una fecha"})]})]}),Object(c.jsx)(gt.a,{scroll:"body",open:oe,onClose:pe,"aria-labelledby":"form-dialog-title",children:Object(c.jsx)(yt.a,{children:Object(c.jsx)(Gt,{closeDialog:pe,change:Oe,pay:ne,booking:be,id:s.id})})}),Object(c.jsx)(y,{name:"Reservar",onClick:function(){if(null!==z&&null!==A){var e=function(e,t){for(var a=[],c=new Date(e);c<=t;c.setDate(c.getDate()+1))a.push(new Date(c));return a}(z,A);me({dayShifth:s.schedule.available,dates:e,price:ne,type:s.type[0]}),de(!0)}}}),Object(c.jsxs)("div",{className:"pt-3",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between font-weight-light",children:[Object(c.jsx)("div",{children:null!==z&&null!==A&&"".concat(s.price," x ").concat(Math.floor(A.getUTCDate()-z.getUTCDate())||1," d\xedas")}),Object(c.jsxs)("span",{children:[null!==z&&null!==A&&"".concat(ee," \u20ac")," "]})]}),Object(c.jsxs)("div",{className:"d-flex justify-content-between price-service font-weight-light",children:[Object(c.jsx)("div",{children:null!==z&&null!==A&&"Gastos de servicio"}),Object(c.jsxs)("span",{children:[null!==z&&null!==A&&"".concat(Z," \u20ac")," "]})]}),Object(c.jsxs)("div",{className:"d-flex justify-content-between font-weight-bold",children:[Object(c.jsx)("div",{children:null!==z&&null!==A&&"Total"}),Object(c.jsxs)("span",{children:[null!==z&&null!==A&&"".concat(ne," \u20ac")," "]})]})]})]})]})})]})})]})})};var _t=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(Qe,{exact:!0,path:"/profile/:id",component:ye}),Object(c.jsx)(Qe,{exact:!0,path:"/new-space",component:Ve}),Object(c.jsx)(_e,{exact:!0,path:"/login",component:Pe}),Object(c.jsx)(l.b,{exact:!0,path:"/search/:search",component:at}),Object(c.jsx)(l.b,{exact:!0,path:"/",component:ae}),Object(c.jsx)(l.b,{exact:!0,path:"/register",component:vt}),Object(c.jsx)(l.b,{exact:!0,path:"/search",component:at}),Object(c.jsx)(l.b,{exact:!0,path:"/space/:id",component:Qt}),Object(c.jsx)(l.a,{to:"/"})]})})},Kt=(a(634),a(284),a(748)),Zt=a(327),$t=a.n(Zt),Xt=a(330),ea=function(e){var t=w(),a=t.user,r=t.logout,s=Object(l.g)(),i=Object(n.useState)(""),o=Object(u.a)(i,2),b=o[0],m=o[1],h=Object(n.useState)(null),p=Object(u.a)(h,2),O=p[0],x=p[1];return Object(c.jsx)("header",{className:"Header",children:Object(c.jsxs)("div",{className:"container header-container",children:[Object(c.jsx)(V.b,{to:"/",children:Object(c.jsx)("img",{src:"/images/logo.png",alt:"logo",className:"logo"})}),Object(c.jsxs)("form",{className:"search",onSubmit:function(e){e.preventDefault(),s.push("/search/".concat(b))},children:[Object(c.jsx)("input",{name:"search",placeholder:"\xbfDonde quieres trabajar?",value:b,onChange:function(e){m(e.target.value)}}),Object(c.jsx)("button",{type:"submit",style:{border:"0",backgroundColor:"white"},children:Object(c.jsx)(Kt.a,{className:"search-logo"})})]}),Object(c.jsxs)("div",{className:"nav",children:[Object(c.jsx)(V.b,{to:"/new-space",className:"mr-4 color-logo",children:"A\xd1ADE TU ESPACIO"}),a?Object(c.jsxs)("div",{children:[Object(c.jsxs)(Ne.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){x(e.currentTarget)},children:[Object(c.jsx)($t.a,{src:a.avatar}),Object(c.jsx)("span",{className:"ml-1",children:a.name})]}),Object(c.jsxs)(Xt.a,{id:"simple-menu",anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:function(){x(null)},children:[Object(c.jsx)(Re.a,{children:Object(c.jsx)(V.b,{className:"color-logo",to:"/profile/".concat(a.id),children:"Ver perfil"})}),Object(c.jsx)(Re.a,{onClick:function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/logout");case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},children:"Cerrar sesi\xf3n"})]})]}):Object(c.jsx)(V.b,{className:"color-logo",to:"/login",children:"ENTRAR"})]})]})})},ta=Object(l.h)((function(e){var t=e.location;return Object(c.jsxs)("div",{className:"App",children:["/login"!==t.pathname&&Object(c.jsx)(ea,{}),Object(c.jsx)(_t,{})]})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(653),a(654),a(655);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(V.a,{children:Object(c.jsx)(C,{children:Object(c.jsx)(ta,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[656,1,2]]]);
//# sourceMappingURL=main.e69fe1db.chunk.js.map